<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>AppleOfMyIframe tests</title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.js"></script>
  <!-- 
      <script src="http://code.jquery.com/nightlies/jquery-nightly.js"></script>
  -->
  <script src="appleofmyiframe.js"></script>
  <style>
    #tests {
        padding-bottom:2.62em;
        margin:0 6.85em 2.62em 0;
        border-bottom:1px solid #ccc;
        float:left;
    }
    #browser {
        float:left;
    }
    #stage {
        clear:both;
    }
    iframe {
        display:block;
        margin:1.62em !important;
    }
  </style>
</head>

<body>
  <h1>AppleOfMyIframe</h1>
  
  <div id="tests">
      <h2>Tests</h2>  
      <p>Do the three iframes stay intact throughout?</p>
      <div id="controls">
          <button id="move-iframes">1. Move iframes within the DOM</button>
          <button id="reload-page">2. Reload the page</button>
      </div>
  </div>
  
  <div id="browser">
    <h2>Your browser</h2>
    <textarea class="user-agent" rows="3" cols="42"></textarea>
  </div>
  
  <div id="stage">
  </div>
  
  <script>
  // Console logger
  // http://github.com/premasagar/console
  var _=(function(){var d=window,c=d.console,a=d.opera,b;if(!c){return(a&&a.postError)?function(){var g,e,h=a.postError,f=arguments;e=f.length;for(g=0;g<e;g++){h(f[g])}}:function(){}}else{if(/webkit/i.test(d.navigator.userAgent)){return function(){c.log(arguments)}}else{b=c.debug;return b?b:function(){var g,e,h=c.log,f=arguments;if(h){if(typeof h.apply==="function"){h.apply(c,f)}else{e=f.length;for(g=0;g<e;g++){h(f[g])}}}}}}})();
  
  
  $('#browser .user-agent')
    .val(window.navigator.userAgent)
    .focus(function(){
        var ta = this;
        window.setTimeout(function(){
            ta.select();
        });
    });
  
  $('#move-iframes')
    .click(function(){
        var d = $('<div style="background-color:red; padding:1em;"></div>').appendTo('body');
        i1.appendTo(d);
        i2.appendTo(d);
        i3.appendTo(d);
    });
    
  $('#reload-page')
    .click(function(){
        window.location.href = window.location.href;
    });

	 // External src iframe
     var i1 = $.iframe('http://google.co.uk')
        .appendTo('#stage')
        .attr('id', 'i1');

	 
	 // Injected iframes
	 var i2 = $.iframe('<p>test</p>')
	    .appendTo('#stage')
	    .attr('id', 'i2');
	 
	 var i3 = $.iframe('<p>hi there</p>', {attr:{frameBorder:1}, css:{backgroundColor:'blue'}})
	    .appendTo('#stage')
	    .attr('id', 'i3');
	    
	 
	/*
    // Example usage
    // Return a new iframe element, in an enhanced jQuery wrapper
    $.iframe();
    
    // Grab the iframe's body element, in a jQuery wrapper
    $.iframe().body();
    
    // Inject content into the iframe body. The following all achieve the same.
    $.iframe('<p>blah</p>');
    $.iframe().body('<p>blah</p>');
    $.iframe().body().append('<p>blah</p>');
    
    // The above examples are not visible on the page, because they do not add the iframe to the DOM. This example does:
    $.iframe('<p>blah</p>')
      .appendTo('body')
      .append('<p>stuff</p>');
    
    // Grab an existing element in the DOM and inject it into a new iframe; then replace the element with that iframe
		$('#example-host-content').intoIframe();
    
    // Resize iframe element to fit its body contents
    $.iframe('<p>blah2</p>').matchSize()
      .appendTo('body');
	*/
  </script>
</body>
</html>
